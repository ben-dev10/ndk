{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "components-social-share",
  "title": "Social Share",
  "description": "Social media link sharing components.",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "popover",
    "@ndk/components-social-icons"
  ],
  "files": [
    {
      "path": "registry/components/_ui/social-share/index.tsx",
      "content": "\"use client\";\r\nimport React, { createContext, useEffect, useMemo, useState } from \"react\";\r\n\r\ntype SocialShareContextType = {\r\n  encodedUrl: string;\r\n  encodedTitle: string;\r\n  encodedDescription: string;\r\n  handleShare: (shareUrl: string) => void;\r\n};\r\n\r\nconst SocialShareContext = createContext<SocialShareContextType>({\r\n  encodedUrl: \"\",\r\n  encodedTitle: \"\",\r\n  encodedDescription: \"\",\r\n  handleShare: () => {},\r\n});\r\n\r\nexport type SocialShareRootProps = React.ComponentProps<\"div\"> & {\r\n  url?: string;\r\n  title?: string;\r\n  description?: string;\r\n};\r\n\r\nexport function SocialShareRoot({\r\n  url,\r\n  title = \"Check this out!\",\r\n  description = \"I found something interesting to share with you\",\r\n  children,\r\n  ...props\r\n}: SocialShareRootProps) {\r\n  const [resolvedUrl, setResolvedUrl] = useState<string>(url ?? \"\");\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      setResolvedUrl(url);\r\n    } else if (typeof window !== \"undefined\") {\r\n      setResolvedUrl(window.location.href);\r\n    }\r\n  }, [url]);\r\n\r\n  const encodedUrl = useMemo(\r\n    () => encodeURIComponent(resolvedUrl || \"\"),\r\n    [resolvedUrl],\r\n  );\r\n\r\n  const encodedTitle = useMemo(() => encodeURIComponent(title), [title]);\r\n  const encodedDescription = useMemo(\r\n    () => encodeURIComponent(description),\r\n    [description],\r\n  );\r\n\r\n  const handleShare = (shareUrl: string) => {\r\n    if (typeof window !== \"undefined\") {\r\n      window.open(\r\n        shareUrl,\r\n        \"_blank\",\r\n        \"noopener,noreferrer,width=600,height=600\",\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SocialShareContext.Provider\r\n      value={{\r\n        encodedUrl,\r\n        encodedTitle,\r\n        encodedDescription,\r\n        handleShare,\r\n      }}\r\n    >\r\n      <div {...props}>{children}</div>\r\n    </SocialShareContext.Provider>\r\n  );\r\n}\r\n\r\nexport type SocialShareFacebookProps = React.ComponentProps<\"button\">;\r\n\r\nexport function SocialShareFacebook({ ...props }: SocialShareFacebookProps) {\r\n  return (\r\n    <SocialShareContext.Consumer>\r\n      {({ encodedUrl, handleShare }) => (\r\n        <button\r\n          {...props}\r\n          onClick={() =>\r\n            handleShare(\r\n              `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}`,\r\n            )\r\n          }\r\n        />\r\n      )}\r\n    </SocialShareContext.Consumer>\r\n  );\r\n}\r\n\r\nexport type SocialShareXTwitterProps = React.ComponentProps<\"button\">;\r\n\r\nexport function SocialShareXTwitter({ ...props }: SocialShareXTwitterProps) {\r\n  return (\r\n    <SocialShareContext.Consumer>\r\n      {({ encodedUrl, encodedTitle, handleShare }) => (\r\n        <button\r\n          {...props}\r\n          onClick={() =>\r\n            handleShare(\r\n              `https://twitter.com/intent/tweet?url=${encodedUrl}&text=${encodedTitle}`,\r\n            )\r\n          }\r\n        />\r\n      )}\r\n    </SocialShareContext.Consumer>\r\n  );\r\n}\r\n\r\nexport type SocialShareLinkedInProps = React.ComponentProps<\"button\">;\r\n\r\nexport function SocialShareLinkedIn({ ...props }: SocialShareLinkedInProps) {\r\n  return (\r\n    <SocialShareContext.Consumer>\r\n      {({ encodedUrl, handleShare }) => (\r\n        <button\r\n          {...props}\r\n          onClick={() =>\r\n            handleShare(\r\n              `https://www.linkedin.com/sharing/share-offsite/?url=${encodedUrl}`,\r\n            )\r\n          }\r\n        />\r\n      )}\r\n    </SocialShareContext.Consumer>\r\n  );\r\n}\r\n\r\nexport type SocialShareWhatsAppProps = React.ComponentProps<\"button\">;\r\n\r\nexport function SocialShareWhatsApp({ ...props }: SocialShareWhatsAppProps) {\r\n  return (\r\n    <SocialShareContext.Consumer>\r\n      {({ encodedUrl, encodedTitle, handleShare }) => (\r\n        <button\r\n          {...props}\r\n          onClick={() =>\r\n            handleShare(`https://wa.me/?text=${encodedTitle}%20${encodedUrl}`)\r\n          }\r\n        />\r\n      )}\r\n    </SocialShareContext.Consumer>\r\n  );\r\n}\r\n\r\nexport type SocialShareTelegramProps = React.ComponentProps<\"button\">;\r\n\r\nexport function SocialShareTelegram({ ...props }: SocialShareTelegramProps) {\r\n  return (\r\n    <SocialShareContext.Consumer>\r\n      {({ encodedUrl, encodedTitle, handleShare }) => (\r\n        <button\r\n          {...props}\r\n          onClick={() =>\r\n            handleShare(\r\n              `https://t.me/share/url?url=${encodedUrl}&text=${encodedTitle}`,\r\n            )\r\n          }\r\n        />\r\n      )}\r\n    </SocialShareContext.Consumer>\r\n  );\r\n}\r\n\r\nexport type SocialShareEmailProps = React.ComponentProps<\"button\">;\r\n\r\nexport function SocialShareEmail({ ...props }: SocialShareEmailProps) {\r\n  return (\r\n    <SocialShareContext.Consumer>\r\n      {({ encodedUrl, encodedDescription, encodedTitle, handleShare }) => (\r\n        <button\r\n          {...props}\r\n          onClick={() =>\r\n            handleShare(\r\n              `mailto:?subject=${encodedTitle}&body=${encodedDescription}%0A%0A${encodedUrl}`,\r\n            )\r\n          }\r\n        />\r\n      )}\r\n    </SocialShareContext.Consumer>\r\n  );\r\n}\r\n",
      "type": "registry:ui",
      "target": "components/ndk/_ui/social-share.tsx"
    }
  ],
  "type": "registry:ui"
}